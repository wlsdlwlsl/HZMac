<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<mata http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Star-Jump</title>
	
	

	
	   <!--  
    Document Title
    =============================================
    -->
    <title>Titan | Multipurpose HTML5 Template</title>
    <!--  
    Favicons
    =============================================
    -->

    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <!--  
    Stylesheets
    =============================================
    
    -->
    <!-- Default stylesheets-->
  	<link href="../resources/ai_home_trainer_resources/lib/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    
    <!-- Template specific stylesheets-->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Volkhov:400i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/animate.css/animate.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/components-font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/et-line-font/et-line-font.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/flexslider/flexslider.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/owl.carousel/dist/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/owl.carousel/dist/assets/owl.theme.default.min.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/magnific-popup/dist/magnific-popup.css" rel="stylesheet">
    <link href="../resources/ai_home_trainer_resources/lib/simple-text-rotator/simpletextrotator.css" rel="stylesheet">
    <!-- Main stylesheet and color file-->
    <link href="../resources/ai_home_trainer_resources/css/style.css" rel="stylesheet">
        <link href="../resources/ai_home_trainer_resources/css/main.css" rel="stylesheet">
    <link id="color-scheme" href="../resources/ai_home_trainer_resources/css/colors/default.css" rel="stylesheet">
   
 
   
    
    <style>
    
section.module.test_module{
	padding-top: 10px;
}
section.module.pb-0{
	padding: 10px;
}
div#t_title{
		font-weight : bold;
		font-size : 30px
}   
td#t_title_td1    {
 	width : 400px;
}
td#t_title_td2    {
 	width : 1000px;
}
td#t_title_td3    {
 	width : 100px;
}
td#t_title_td4    {
 	width : 200px;
}
tr#t_title_tr{
	height: 80px;
}
div#test_test_t2_t2{
	margin-top : 50px;
}  
ul.filter.font-alt.test_filter{
	margin-top:40px;
	margin-bottom:30px;
}    

img#sub_slider_img{

    width: 203.99px;
}
.test_sub_simg {
   width: 23%; 
}



    
    </style>
    
    
</head>
  
  
  
  <body data-spy="scroll" data-target=".onpage-navigation" data-offset="60">
    <main>
      <div class="page-loader">
        <div class="loader">Loading...</div>
      </div>
      
      
<!-- 헤더바 헤더바 헤더바 헤더바 -->
      
      
	<nav>
	   <div class="logo">
	       <a href="index.jsp">DO<em>GETHER</em></a>
	   </div>
	    <div class="menu-icon">
	       <span></span>
	    </div>
	</nav>      


<!-- 헤더바 끝! -->

	
<!-- 헤더 오른쪽 목록 보기 -->


	<section class="overlay-menu">
		<div class="container">
			<div class="row">
				<div class="main-menu">
					<ul>
						<li><a href="#">런닝구</a></li>
						<li><a href="#">Gym 예약할까</a></li>
						<li><a href="#">온라인 PT</a></li>
						<li><a href="#">자랑하기</a></li>
						<li><a href="#">BMI 측정가능 보건소</a></li>
						<li><a href="#">쇼핑몰</a></li>
						<li><a href="Mypage">마이페이지</a></li>

					</ul>
				</div>
			</div>
		</div>
	</section>



<!-- 헤더 오른쪽 목록 보기 끝! --> 




      <!-- 해더 풋터 -->
      
      
 
 
           <div class="bottom test_bottom" id="bottomA">
            <div class="text-right container hidden-xs"><a id="scrollDownArrow" href="#"><i class="ion-ios7-arrow-thin-down"></i></a></div>
            <div class="signupForm test_bottom">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                        
                        
                            <b class="mb10"> <!-- 헤더의 글씨 --> </b>
                        
                        
                        </div>
                        <div class="col-md-6 text-right">
                            <form class="form-inline subscribe-form" id="subscription-form" role="form">
                            
                            </form>
                            
                            
                            <div id="subscription-response"></div>
                        </div>
                    </div>
                </div><!-- container -->
            </div><!--/signupForm-->
        </div>

      <!-- 헤더 풋터 끝 -->









<!-- 헤더 카테고리 -->

<!--  <div id="test_test_t2" class="t2t2">

       <!--    <div class="row">
              <div class="col-sm-8 col-sm-offset-2"> -->  
              
      <!--     <hr class="divider-w mt-10 mb-20">
                
                <div role="tabpanel">
                  <ul class="nav nav-tabs font-alt" role="tablist">
                   
                    <li class="active"><a href="#support" data-toggle="tab"><span class="icon-tools-2"></span>support</a></li>
                   
                    <li><a href="#sales" data-toggle="tab"><span class="icon-tools-2"></span>sales</a></li>
                  </ul>
                  
                  <div class="tab-content">
                    
                    
                    
                    
                    <div class="tab-pane active" id="support">The European languages are members of the same family. Their separate existence is a myth.
                    </div>
                    
                    
                    
                    <div class="tab-pane" id="sales">To achieve this, it would be necessary to have uniform grammar, pronunciation and more common words.
                    </div>
                
                
                
                
                  </div>
                </div>
                
            </div>      -->	
            
            
      <!--       </div>
                </div> -->    

        









		
	<!-- 	            <div class="row">
              <div class="col-sm-8 col-sm-offset-2" id="test_test_t"> -->
		
		
	


<!-- 티쳐블 머신 시작!!!!! -->
		
<section id="motion_test">

		<div id="test_test_t2" class="t2t2"> <!-- 화면 정 중앙으로 만든 아이디값 : main.css 밑줄에 있음  -->



		<table>
			<tr  id="t_title_tr">
				<td id="t_title_td1">
						<div id="t_title">Squat</div>  <!-- 제목: 운동 종목 -->
				</td>
			
				<td id="t_title_td1">
				<!-- 카운트 관련된 css를 넣을 부분 -->
				
				</td>
			
			<tr>
		</table>





		
		<div ><canvas id="canvas"></canvas></div> <!-- 화면 부분 -->
		
		
		
		

		
		

		
		
		<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@teachablemachine/pose@0.8/dist/teachablemachine-pose.min.js"></script>
		<script type="text/javascript">
		    // More API functions here:
		    // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/pose
		
		   // Teachable Machine 내보내기 패널에서 제공하는 모델에 대한 링크
		    const URL = "../resources/ai_home_trainer_resources/exercise_model/";   // #### 1. 음성이나 기타 관련 자료 넣는 폴더, 폴더 만들고 맞춰야 함 ###
		    let model, webcam, ctx, labelContainer, maxPredictions;
		
		    async function init() {  // ### 2. init 이라는 함수는 model을 불러오고(31-32), 카메라를 설정해준 다음에(35-40), (40)loop라는 함수를 계속 돌게 된다.
		        const modelURL = URL + "model_starjump.json";
		        const metadataURL = URL + "metadata_starjump.json";
		
					     // 모델 및 메타데이터 로드
					        // 파일 선택기에서 파일을 지원하려면 API의 tmImage.loadFromFiles()를 참조하십시오.
					        // 참고: 포즈 라이브러리는 창에 tmPose 객체를 추가합니다(window.tmPose).
					        model = await tmPose.load(modelURL, metadataURL);
					        maxPredictions = model.getTotalClasses();
					
					     // 웹캠 설정을 위한 편의 기능
					       	const size = 850; // 사이즈!!!!!!!!!!!!!!!
					     	// const height = 800;
					       	// const width = 1000;
					        const flip = true; // 웹캠을 뒤집을지 여부
					       	webcam = new tmPose.Webcam(size, size, flip); // 너비, 높이, 뒤집기
					        //webcam = new tmPose.Webcam(height, width, flip);
					        await webcam.setup(); // 웹캠에 대한 액세스 요청
					        await webcam.play();
					        window.requestAnimationFrame(loop);
					
					     // DOM에 요소 추가/가져오기
					        const canvas = document.getElementById("canvas");
					        canvas.width = size; canvas.height = size; // 및 클래스 레이블
					        ctx = canvas.getContext("2d");
					        labelContainer = document.getElementById("label-container");
					        for (let i = 0; i < maxPredictions; i++) { // and class labels
					            labelContainer.appendChild(document.createElement("div"));
					        }
				 }
		
		    async function loop(timestamp) { // loop라는 함수는 계속 자기 자신을 호출하면서 반복되는데, 웹캠을 업데이트 하고, predict() 라는 함수를 수행한다.
		        webcam.update();  // 웹캠 프레임 업데이트
		        await predict();
		        window.requestAnimationFrame(loop);
		    }
		
		    
		    
		    //  ######  
		    var status = "class1";
		    var count = 0;    
		    //   ####### 
		    
		    
		    
		    async function predict() {	// ### 3. predict() 함수는 await model.estimatePose 이 모델을 불러오고, model.predict 로 결과를 뽑아서
		    	// 예측 #1: 포즈넷을 통한 입력 실행
		        // EstimatePose는 이미지, 비디오 또는 캔버스 html 요소를 가져올 수 있습니다.
		        const {pose, posenetOutput } = await model.estimatePose(webcam.canvas);
		     // 예측 2: 티칭 가능한 기계 분류 모델을 통한 입력 실행
		        const prediction = await model.predict(posenetOutput);
		
		        
		        
					        // ##############
					        
							 if(prediction[0].probability.toFixed(2) > 0.80){
					        	if(status = "class2"){
					        		 count = count+1;
					        		 t_title_td3.innerHTML = count;
					        		 console.log(count);
					        		
					        		//var audio = new Audio( count%10 + '1.mp3');
					        		//audio.play();
					        	}
					        	status = "class1";  
					        	
					        }
					        else if (prediction[1].probability.toFixed(2) == 0.80) {
					        	
					        	status = "class2";
					        }      
					        else if (prediction[2].probability.toFixed(2) == 1.00) {
					          
					        	if(status == "class1" || status == "class2"){
					        		
					        		//var audio = new Audio('wrong.mp3');
					        		//audio.play();
					        	}
					        	
					        	
					        	
					        	status = "class3";
					        }  
					        // ################
					        
					        
					        
					        
					        
					        for (let i = 0; i < maxPredictions; i++) {	// ### 4. model.predict 로 결과를 뽑아서 prediction[i].className : prediction[i].probability 을 문장으로 만들어서
					            const classPrediction =
					                prediction[i].className + ": " + prediction[i].probability.toFixed(2); // 라벨 컨테이너의 클래스 네임 지정 부분!(수치화하는 젤 풋터 부분)
					            labelContainer.childNodes[i].innerHTML = classPrediction; // ##HTML에 넣어주는 역할을 하고 있다.
					        }
					
					        // ## 5. => 캠화면 하단에 있는 자세마다의 정확도임.
					        // ## 6. prediction[i].probability 가능성. 정확도와 관련있음
							// ## 7. prediction[i].probability가 무엇일 때 어떤 소리를 내라. 를 설정하면 됨.
							// ## 8. prediction[0] = 1  /  prediction[1]
					        
					        
					        // 마지막으로 포즈를 그립니다.
					        drawPose(pose);
		    }
		
		    function drawPose(pose) {
		    	
		        if (webcam.canvas) {
		            ctx.drawImage(webcam.canvas, 0, 0);
		            // 키포인트와 스켈레톤을 그립니다.
		            if (pose) {
		                const minPartConfidence = 0.5;
		                tmPose.drawKeypoints(pose.keypoints, minPartConfidence, ctx);
		                tmPose.drawSkeleton(pose.keypoints, minPartConfidence, ctx);
		            }
		        }
		    }
		</script>

	 <script> init();  </script>

		</div>


</section>

<!-- 티쳐블 머신 끝!!!!! -->


		
				<table>
				
				
				<colgroup>
						<col style="width:70%">
						<col style="width:15%">
						<col style="width:15%">
				</colgroup>
				
				
			<tr  id="t_title_tr2">
				<td id="t_title_td2">
				<!-- 카운트 관련된 css를 넣을 부분 -->
				
				</td>
				
				<td id="t_title_td3">
				<!-- <h4>정확도</h4>  -->
				<!-- <script>document.write(count)</script> -->
				</td>
				
				<td id="t_title_td4">
				
				<div id="label-container"></div>		<!-- 밑에 정확도 수치 부분 -->
			
				</td>
			
			<tr>
		</table>



<!-- ####### 풋터에 색상 넣기 -->





		<!--        <div class="row">
              <div class="col-sm-8 col-sm-offset-2">  --> 

		<div id="test_test_t2_t2">
		
		
		<div id="test_test_t2" class="t2t2">


		 <!-- 드롭박스 시작!! -->
            <h4 class="font-alt mb-0"></h4>
               
                <div class="panel-group" id="accordion">
                
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <h4 class="panel-title font-alt"><a id ="df\\" data-toggle="collapse" aria-expanded="false" class="collapsed" data-parent="#accordion" href="#support1"  >Exercise Method</a></h4>
                    </div>
                    
                    
                    <div class="panel-collapse collapse in" id="support1">
                      <div class="panel-body">
                      
                      
                      
                      <table>
                      

                      
                      
                      	<tr>
                    		<td>
                      <!-- 운동사진 -->
                      <img src="../resources/ai_home_trainer_resources/images/exci1.gif" id="img_exs1"/></a>
                      		</td>
                      		
                      		<td id="test_td">
                      
                  			 <h5 id="test_h5">운동법</h5>
                  			 <p>- 굽힐떄 어쩌구 저쩌구</p>
                  			 <p>- 블라블라 몸을 조심하고</p>
                  			 <p>- 굽힐떄 어쩌구 저쩌구 블라블라 몸을 조심하고</p>
                  			 <p>- 블라블라 몸을 조심하고</p><br>
                  			 
                  			  <h5 id="test_h5">주의사항</h5>
                  			  
                  			<p>굽힐떄 어쩌구 저쩌구 블라블라 몸을 조심하고</p>
                  		
                      		
                      		</td>
                      
                      	</tr>
                      </table>
                      
                      
                      
                      
                      </div>
                    </div>
            	 </div>   
           	</div>  
           
       	    <!-- 드롭박스 끝!! -->
       	    
       	    
		 <hr class="divider-w mt-10 mb-20">  <!-- 선 라인 -->
       	    
       	    </div>	   
       	  </div> 
       	    

    <!-- </div> </div> -->
    
    
   
  
    
   <!-- 메뉴 리스트 시작 -->



          
          <div class="container" id="works">
            <div class="row">
              <div class="col-sm-12">
                <ul class="filter font-alt test_filter" >
                
                
          		  <li><a class="wow fadeInUp" >All</a></li>
          		  
          		  <li>||</li>
          		  
          		  <li><a data-url="3_ajax_test_lastmain_pushpage.jsp" class="wow fadeInUp" data-wow-delay="0.2s">유산소</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.4s">근력운동</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.6s">요가</a></li>
                  
                   <li>||</li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.6s">back</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.4s">belly</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.6s">arm</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.6s">leg</a></li>
                  
                  <li><a class="wow fadeInUp" data-wow-delay="0.6s">hip</a></li>
                  
                 
                  

                  
                </ul>
              </div>
            </div>  
           </div> 
         
    
 <!-- 메뉴 리스트 끝  -->   
    
    
    
    
    

<!-- 미니 슬라이더 -->      
             
       
       <div class="slider_part">
             
        <section class="module test_module" id="slider1">
          <div class="container">
  
            <div class="row" id="demos2">
             
   
                <div class="owl-carousel text-center" data-items="5" data-pagination="false" data-navigation="false">
              
              

                <div class="owl-item belly_2">
                  <div class="col-sm-12">
                    <div class="ex-product "><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-frank.jpg" alt="Leather belt"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">quat</a></h4>
                    </div>
                  </div>
                </div>
          
                          
           
                <div class="owl-item belly_2">
                  <div class="col-sm-12">
                    <div class="ex-product"><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-keep.jpg" alt="Derby shoes"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">Lungy</a></h4>
                    </div>
                  </div>
                </div>  
        
                
                <div class="owl-item">
                  <div class="col-sm-12">
                    <div class="ex-product"><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-leglaz.jpg" alt="Leather belt"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">Plank</a></h4>
                    </div>
                  </div>
                </div>
                              
                <div class="owl-item">
                  <div class="col-sm-12">
                    <div class="ex-product"><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-pushup.jpg" alt="Leather belt"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">side-Plank</a></h4>
                    </div>
                  </div>
                </div>
               
                <div class="owl-item">
                  <div class="col-sm-12">
                    <div class="ex-product"><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-yaga-3.jpg" alt="Chelsea boots"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">Burpee-Test</a></h4>
                    </div>
                  </div>
                </div>
                
                <div class="owl-item">
                  <div class="col-sm-12">
                    <div class="ex-product"><a href="#"><img src="../resources/ai_home_trainer_resources/images/3-armdum.jpg" alt="Leather belt"/></a>
                      <h4 class="shop-item-title font-alt"><a href="#">Slow-Burpee</a></h4>
                    </div>
                    
        
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
 
 	</div>

        
  <!-- 미니 슬라이더 끝 -->       








        <section class="module-extra-small bg-dark">
          <div class="container">
            <div class="row">
              <div class="col-sm-6 col-md-8 col-lg-9">
                <div class="callout-text font-alt">
                  <br>
                  <p style="margin-bottom: 0px;"> Copyright © 2018 Company Name | Designed by TemplateMo</p>
                </div>
              </div>


            </div>
          </div>
        </section>
  
  
        
        

      
      <div class="scroll-up"><a href="#totop"><i class="fa fa-angle-double-up"></i></a></div>
    </main>
    <!--  
    JavaScripts
    =============================================
    -->
    <script src="../resources/ai_home_trainer_resources/lib/jquery/dist/jquery.js"></script>
    
    
  	<script src="../resources/ai_home_trainer_resources/lib/bootstrap/dist/js/bootstrap.min.js"></script>
  	<script src="../resources/ai_home_trainer_resources/lib/bootstrap/dist/js/bootstrap.min.js"></script>  	
  	
  	
    <script src="../resources/ai_home_trainer_resources/lib/wow/dist/wow.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/jquery.mb.ytplayer/dist/jquery.mb.YTPlayer.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/isotope/dist/isotope.pkgd.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/imagesloaded/imagesloaded.pkgd.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/flexslider/jquery.flexslider.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/owl.carousel/dist/owl.carousel.min.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/smoothscroll.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/magnific-popup/dist/jquery.magnific-popup.js"></script>
    <script src="../resources/ai_home_trainer_resources/lib/simple-text-rotator/jquery.simple-text-rotator.min.js"></script>
    <script src="../resources/ai_home_trainer_resources/js/plugins.js"></script>
    <script src="../resources/ai_home_trainer_resources/js/main.js"></script>
    
    
        
    
    <script src="../resources/ai_home_trainer_resources/js/add_plugins.js"></script>
    <script src="../resources/ai_home_trainer_resources/js/add_main.js"></script>
    
  </body>
</html>